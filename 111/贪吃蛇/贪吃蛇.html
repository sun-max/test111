<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
     <style>
     *{
    padding: 0;
    margin: 0;
}
#container{
    background: url(./img/img/bg.jpg);
    width:1038px;
    height:650px;
    margin:0 auto;
    position:relative;
    
}
#map-panel{
    width: 631px;
    height: 421px;
    /* background-color:blue; */
    position: absolute;
    left:90px;
    top:140px;
    
   
}
#map-bg{
    border-collapse:collapse;
}
#map-bg td{
    width:20px;
    height:20px;
    border:1px solid #888;
}

.snake{
    width:20px;
    height:20px;

    background-color:rgb(0,255,255);
    position: absolute;
    top:64px;
}
.food{
    width:20px;
    height: 20px;
    background-color:rgb(255,225,0);
    position: absolute;
}
#control-panel{
    width: 196px;
    height: 500px;
    position: absolute;
    left:800px;
    top:100px;
    text-align: center;
}
#control-panel button{
    width: 178px;
    height: 52px;
    margin-bottom:20px;
    border:0px;
   
}
#btn-start{
    background: url(./img/img/start-game.png);
}
#btn-set{
    background: url(./img/img/game-setting.png);

}
#btn-quit{
    background:url(./img/img/quit-game.png);
}
#btn-help{
    background:url(./img/img/help.png);

}
.speed{
    width: 196px;
    height: 204px;
  background: url(./img/img/speed-panel.png);
}

     
     
     
     
     </style>
</head>
<body>
    <div id="container">
        <div id="map-panel">
            <table id="map-bg">
                   
            </table>
        
        
        </div>
        <div id="control-panel">
            <button id='btn-start'></button>
            <button id='btn-set'></button>
            <button id='btn-quit'></button>
            <button id='btn-help'></button>
            <div class='speed'></div>
        </div>
    </div>
    <script>
       //1.初始化地图
       var oMapPanel=document.getElementById('map-panel');
       var oMapTable=document.getElementById('map-bg')
        for(var row=0;row<20;row++){
           var oTr= document.createElement('tr');
              for(var col=0;col<30;col++){
                var oTd=document.createElement('td');
                oTr.appendChild(oTd);
              }
              oMapTable.appendChild(oTr);
        }
        //初始化蛇
        var snakeBody=[];//定义来保存蛇身体的数组
        for(var i=0;i<3;i++){
            var oDiv=document.createElement('div');
            oDiv.className='snake';
            oDiv.style.left = i*20+(i+1) + "px"; 
            oMapPanel.appendChild(oDiv);
            snakeBody.push(oDiv);
            
        }
        //初始化实物
        do{
        var bflag=true;//标识位，用来控制循环是否结束，为true,代表找到合适的坐标
        //计算食物的坐标
        //1.不可跑到表格外
        var iLeft=Math.floor(Math.random()*30);//0-29
        iLeft=iLeft*21+1;
        var iTop=Math.floor(Math.random()*20);//0-19
        iTop=iTop*21+1;
        var oFood=document.createElement('div')
        oFood.className='food';
        oFood.style.left=iLeft + "px";
        oFood.style.top=iTop+"px";
        //2.判断是否和蛇的身体重复
        for(var i=0;i<snakeBody.length;i++){
            if(snakeBody[i].offsetLeft == iLeft && snakeBody[i].offsetTop == iTop){
               bflag=false;
            }
        }
        oMapPanel.appendChild(oFood);
          }while (!bflag);
    </script>
</body>
</html>